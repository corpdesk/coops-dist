(self.webpackChunkcoops=self.webpackChunkcoops||[]).push([[8804],{98199:(O,I,l)=>{l.d(I,{AO:()=>A,F5:()=>b,Lg:()=>y,NX:()=>n,ZR:()=>_,lc:()=>D,mA:()=>m,s9:()=>u,v$:()=>d});var s=l(30533),t=l(47512),f=l(33635);const F=new t.FormsService,b=[{title:"ID",name:"cdObjId",dbName:"cd_obj_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"cdObjGuid",dbName:"cd_obj_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"cdObjName",dbName:"cd_obj_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"CdObjType",name:"cdObjTypeGuid",dbName:"cd_obj_type_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"cdObjName",selIndex:"cdObjTypeGuid",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(42),s.Validators.required]]},{title:"ParentModule",name:"parentModuleGuid",dbName:"parent_module_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"menuName",selIndex:"menuGuid",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(42),s.Validators.required]]},{title:"AliasName",name:"cdObjDispName",dbName:"cd_obj_disp_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(14),s.Validators.required]]},{title:"Icon",name:"icon",dbName:"icon",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.ddlIcons,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",savable:!0,formControlsConfig:["",[s.Validators.minLength(2),s.Validators.maxLength(20),s.Validators.required]]},{title:"Show Icon",name:"showIcon",dbName:"show_icon",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Enabled",name:"cdObjEnabled",dbName:"cd_obj_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createCdObj"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},valid:null,ctx:"Sys"},d={token:"",stepTitle:"Create CdObj",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"cdObjInfo",cardTitle:"CdObj Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"CdObj",formGroup:null,fields:F.filterByFieldFor(b,t.FieldFor.createForm)},n={name:"CdObj Wizard",steps:[d]},u={select:["cdObjId","cdObjName","cdObjGuid"],where:{}},y={getFn$:null,selIndex:u.select[0],selValueField:u.select[1],fetchFields:u.select,step:null,token:null,controlName:"cdObjId"},m={select:["cdObjTypeId","cdObjTypeName","cdObjTypeGuid"],where:{}},D={getFn$:null,selIndex:m.select[2],selValueField:m.select[1],fetchFields:m.select,step:null,token:null,controlName:"cdObjTypeGuid"},A=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/cd-obj/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/cd-obj/dashboard",actionType:t.ActionType.navigate}]},18804:(O,I,l)=>{l.r(I),l.d(I,{ConsumerResourceModule:()=>B});var s=l(35228),h=l(30533),t=l(83781),g=l(76380),f=l(92618),M=l(59707),F=l(15006),b=l(5740),_=l(77207),d=l(7444),n=l(47512),u=l(61052),y=l(37011),m=l(15861),D=l(89521),A=l.n(D),Y=l(31815);const re={series:[{name:"2020",type:"column",data:[23,42,35,27,43,22,17,31,22,22,12,16]},{name:"2019",type:"line",data:[23,32,27,38,27,32,27,38,22,31,21,16]}],chart:{height:280,type:"line",toolbar:{show:!1}},stroke:{width:[0,3],curve:"smooth"},plotOptions:{bar:{horizontal:!1,columnWidth:"20%"}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ne={series:[20,20,20,20,20],chart:{height:250,type:"donut"},labels:["Tanzania","Malawi","Eswatini","The Gambia","Ghana"],plotOptions:{pie:{donut:{size:"75%"}}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c","#eeb902","red","pink"]},ae={series:[72],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#5664d2"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},le={series:[65],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#1cbb8c"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},se=[{id:1,name:"Frank Vickery",message:"Hey! I am available",image:"assets/images/users/avatar-2.jpg",time:"12:09"},{id:2,align:"right",name:"Ricky Clark",message:"Hi, How are you? What about our next meeting?",time:"10:02"},{text:"Today"},{id:3,name:"Frank Vickery",message:"Hello!",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:4,name:"Frank Vickery",message:"& Next meeting tomorrow 10.00AM",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:5,align:"right",name:"Ricky Clark",message:"Wow that's great",time:"10:07"}],ie=[{orderid:"#NZ1563",date:"28 Mar, 2020",billingname:"Frank Dean",total:"$164",paymentstatus:"Unpaid"},{orderid:"#NZ1564",date:"28 Mar, 2020",billingname:"Eddy Torres",total:"$141",paymentstatus:"Paid"},{orderid:"#NZ1565",date:"29 Mar, 2020",billingname:"Jamison Clark",total:"$123",paymentstatus:"Paid"},{orderid:"#NZ1566",date:"30 Mar, 2020",billingname:"Jewel Buckley",total:"$112",paymentstatus:"Paid"},{orderid:"#NZ1567",date:"31 Mar, 2020",billingname:"Jeffrey Waltz",total:"$105",paymentstatus:"Unpaid"},{orderid:"#NZ1568",date:"01 Apr, 2020",billingname:"Jefferson Allen",total:"$160",paymentstatus:"Chargeback"}],de=[{icon:"ri-stack-line",title:"Number of Sales",value:"1459"},{icon:"ri-store-2-line",title:"Sales Revenue",value:"$ 38453"},{icon:"ri-briefcase-4-line",title:"Average Price",value:"$ 15.4"}],ce={recursive:!1,maps:[{consumerId:"id",consumerName:"label",consumerResourceIcon:"icon",resources:"subItems",consumerResourceId:"parentId"},{consumerResourceGuid:"id",cdObjName:"label",consumerResourceLink:"link",consumerId:"parentId"}]};var e=l(87675),ue=l(55250),G=l(33635),q=l(65893);class R{constructor(){this.handler=new G.Subject}broadcast(o,r={}){this.handler.next({type:o,payload:r})}subscribe(o,r){return this.handler.pipe((0,q.filter)(i=>i.type===o)).pipe((0,q.map)(i=>i.payload)).subscribe(r)}}R.\u0275fac=function(o){return new(o||R)},R.\u0275prov=e.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"});var me=l(38697);class j{constructor(o){this.http=o,this.debug=!1,this.module="",this.controller="",this.resp$=new G.Observable,this.params={ctx:"",m:"",c:"",a:"",dat:{token:""},args:{}}}proc(o){return console.log("",o),this.http.post(d.N.apiEndpoint,o,d.N.apiOptions)}}j.\u0275fac=function(o){return new(o||j)(e.\u0275\u0275inject(me.HttpClient))},j.\u0275prov=e.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"});class w{constructor(){this.debugMode=!1}setDebugMode(o){this.debugMode=o}transformArray(o,r){return console.log("ArrayAdapterService::transformArray()/01"),console.log("ArrayAdapterService::transformArray()/inputArray:",o),console.log("ArrayAdapterService::transformArray()/mappingPlan:",r),Array.isArray(o)?(console.log("ArrayAdapterService::transformArray()/04"),o.map((i,p)=>{if(console.log("ArrayAdapterService::transformArray()/05"),console.log("ArrayAdapterService::transformArray()/item:",i),console.log("ArrayAdapterService::transformArray()/index:",p),console.log("ArrayAdapterService::transformArray()/typeof(item):",typeof i),console.log("ArrayAdapterService::transformArray()/typeof item:",typeof i),null===i||"object"!=typeof i)return console.log("ArrayAdapterService::transformArray()/06"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/07"),this.logger.error(`Validation Error: Item at index ${p} is null or not an object. Received:`,i)),console.log("ArrayAdapterService::transformArray()/08"),{};console.log("ArrayAdapterService::transformArray()/09");const c={};for(const[v,T]of Object.entries(r))console.log("ArrayAdapterService::transformArray()/10"),i.hasOwnProperty(v)&&(console.log("ArrayAdapterService::transformArray()/11"),console.log("ArrayAdapterService::transformArray()/newKey",T),console.log("ArrayAdapterService::transformArray()/key",v),c[T]=i[v]);return console.log("ArrayAdapterService::transformArray()/13"),c})):(console.log("ArrayAdapterService::transformArray()/02"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/03"),this.logger.error("Validation Error: Input is not an array. Received:",o)),[])}}w.\u0275fac=function(o){return new(o||w)},w.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"});class P{constructor(){this.childrenField="subItems",this.svArrayAdapter=new w,this.svArrayAdapter.setDebugMode(!0)}adaptToTree(o,r){return console.log("TreeAdapterService::adaptToTree()/01"),console.log("TreeAdapterService::adaptToTree()/data:",o),console.log("TreeAdapterService::adaptToTree()/config:",r),r.recursive?(console.log("TreeAdapterService::adaptToTree()/02"),this.buildRecursiveTree(o,r.maps[0])):(console.log("TreeAdapterService::adaptToTree()/03"),this.buildNonRecursiveTree(o,r.maps))}convertToTree(o,r){return o}convertArray(o,r){console.log("TreeAdapterService::convertArray()/01"),console.log("TreeAdapterService::convertArray()/data:",o),console.log("TreeAdapterService::convertArray()/mappingPlan:",r);const i=this.svArrayAdapter.transformArray(o,r);return console.log("TreeAdapterService::convertArray()/ret:",i),i}buildRecursiveTree(o,r){var i=this;return Array.isArray(o)&&null===o?o.map(function(){var p=(0,m.Z)(function*(c){return yield i.mapToTreeItem(c,r,!0)});return function(c){return p.apply(this,arguments)}}()):[]}buildNonRecursiveTree(o,r){var i=this;console.log("TreeAdapterService::buildNonRecursiveTree()/01"),console.log("TreeAdapterService::buildNonRecursiveTree()/data:",o),console.log("TreeAdapterService::buildNonRecursiveTree()/maps:",r);let c=[];if(!Array.isArray(r)||null==r)return console.log("TreeAdapterService::buildNonRecursiveTree()/02"),c;const T=this.convertArray(o,r[0]);return c=T,console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",T),T.forEach(function(){var N=(0,m.Z)(function*(x,S){console.log("TreeAdapterService::buildNonRegursiveTree()/item[this.childrenField]:",x[i.childrenField]),console.log("TreeAdapterService::buildNonRegursiveTree()/maps[depthLevel + 1]:",r[1]);const E=yield i.convertArray(x[i.childrenField],r[1]);console.log("TreeAdapterService::buildNonRegursiveTree()/transformedItemChildren:",E),x[i.childrenField]=E,c[S][i.childrenField]=E});return function(x,S){return N.apply(this,arguments)}}()),console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",T),console.log("TreeAdapterService::buildNonRegursiveTree()/result:",c),c}mapToTreeItem(o,r,i){var p=this;return(0,m.Z)(function*(){return{id:o[r.id],label:o[r.label],icon:r.icon?o[r.icon]:null,link:r.link?o[r.link]:null,subItems:i&&r.subItems?yield p.buildRecursiveTree(o[r.subItems],r):null,isTitle:!!r.isTitle&&o[r.isTitle],badge:r.badge?o[r.badge]:null,parentId:o[r.parentId],isLayout:!!r.isLayout&&o[r.isLayout],moduleIsPublic:!!r.moduleIsPublic&&o[r.moduleIsPublic]}})()}}P.\u0275fac=function(o){return new(o||P)},P.\u0275prov=e.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});const pe=["sideMenu"];function fe(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.label)}}function he(a,o){if(1&a&&e.\u0275\u0275element(0,"i"),2&a){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",r.icon,"")}}function ye(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",r.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.badge.text)}}const be=function(a,o){return{"has-arrow":a,"has-dropdown":o}};function ve(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"a",24),e.\u0275\u0275template(1,he,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ye,2,4,"span",25),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,be,!r.badge,r.badge)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.badge)}}function ge(a,o){if(1&a&&e.\u0275\u0275element(0,"i"),2&a){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",r.icon,"")}}function Fe(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",r.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.badge.text)}}function Te(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275template(1,ge,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Fe,2,4,"span",25),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",r.link),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.badge)}}function _e(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("routerLink",r.link),e.\u0275\u0275attribute("data-parent",r.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.label," ")}}function Ce(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"a",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275attribute("data-parent",r.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.label," ")}}function Ie(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li")(1,"a",26),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&a){const r=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",r.link),e.\u0275\u0275attribute("data-parent",r.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.label," ")}}function De(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"ul",31),e.\u0275\u0275template(1,Ie,3,3,"li",16),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.subItems)}}function Me(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,_e,2,3,"a",22),e.\u0275\u0275template(2,Ce,2,2,"a",28),e.\u0275\u0275template(3,De,2,1,"ul",29),e.\u0275\u0275elementEnd()),2&a){const r=o.$implicit,i=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.hasItems(r))}}function Ee(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"ul",27),e.\u0275\u0275template(1,Me,4,3,"li",16),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.subItems)}}function Ae(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,ve,5,7,"a",21),e.\u0275\u0275template(2,Te,5,4,"a",22),e.\u0275\u0275template(3,Ee,2,1,"ul",23),e.\u0275\u0275elementEnd()),2&a){const r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.hasItems(r))}}function xe(a,o){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,fe,2,1,"li",18),e.\u0275\u0275template(2,Ae,4,3,"li",19),e.\u0275\u0275elementContainerEnd()),2&a){const r=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.isTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.isTitle&&!r.isLayout)}}class U{constructor(o,r,i,p,c,v,T,N,x,S,E,$,X){this.aRoute=o,this.router=r,this.svBase=i,this.svNav=p,this.svNazTable=c,this.svAcl=v,this.svPage=T,this.svSess=N,this.logger=x,this.formBuilder=S,this.eventService=E,this.http=$,this.svTreeAdapter=X,this.baseModel=new n.BaseModel("moduleman","consumer-resource"),this.dSource={fields:[],data:[]},this.cardTitle="Modules",this.cardBodyId="cdModule",this.searchInputId="inputSearchModule",this.editRoute="/moduleman/consumer-rescource/edit",this.deleteRoute="/moduleman/consumer-rescource/delete",this.createRoute="/moduleman/consumer-rescource/create",this.filter={},this.tpData=n.DEFAULT_TPD,this.ddlData=n.DEFAULT_DDLD,this.menuItems=[],this.options={layers:[(0,Y.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:6,center:(0,Y.latLng)(46.879966,-121.726909)}}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{o&&this.svAcl.initComponent(o,this,this.svSess).then(r=>{console.log("ListComponent::ngOnInit()/svAcl/ret:",r)})}),this.breadCrumbItems=[{label:"ASDAP"},{label:"ConsumerResources",active:!0}],this.formData=this.formBuilder.group({message:["",[h.Validators.required]]}),this._fetchData()}ngAfterViewInit(){this.menu=new(A())(this.sideMenu.nativeElement),this._activateMenuDropdown(),this.initialize()}_fetchData(){this.revenueChart=re,this.salesAnalytics=ne,this.sparklineEarning=ae,this.sparklineMonthly=le,this.chatData=se,this.transactions=ie,this.statData=de}get form(){return this.formData.controls}messageSave(){const o=this.formData.get("message").value,r=new Date;this.formData.valid&&o&&(this.chatData.push({align:"right",name:"Ricky Clark",message:o,time:r.getHours()+":"+r.getMinutes()}),this.formData=this.formBuilder.group({message:null})),this.chatSubmit=!0}_removeAllClass(o){const r=document.getElementsByClassName(o);for(;r[0];)r[0].classList.remove(o)}_activateMenuDropdown(){this._removeAllClass("mm-active"),this._removeAllClass("mm-show");const o=document.getElementsByClassName("side-nav-link-ref");let r=null;const i=[];for(let c=0;c<o.length;c++)i.push(o[c].pathname);const p=i.indexOf(window.location.pathname);if(-1===p){const c=window.location.pathname.lastIndexOf("/"),v=window.location.pathname.substr(0,c).toString();r=o[i.indexOf(v)]}else r=o[p];if(r){r.classList.add("active");const c=r.parentElement;if(c){c.classList.add("mm-active");const v=c.parentElement.closest("ul");if(v&&"side-menu"!==v.id){v.classList.add("mm-show");const T=v.parentElement;if(T&&"side-menu"!==T.id){T.classList.add("mm-active");const N=T.querySelector(".has-arrow"),x=T.querySelector(".has-dropdown");N&&N.classList.add("mm-active"),x&&x.classList.add("mm-active");const S=T.parentElement;if(S&&"side-menu"!==S.id){S.classList.add("mm-show");const E=S.parentElement;if(E&&"side-menu"!==E.id){E.classList.add("mm-active");const $=E.querySelector(".is-parent");$&&"side-menu"!==E.id&&$.classList.add("mm-active")}}}}}}}initialize(){var o=this;return(0,m.Z)(function*(){o.fetchData()})()}hasItems(o){return void 0!==o.subItems&&o.subItems.length>0}changeLayout(o){this.eventService.broadcast("changeLayout",o)}fetchData(){let o=this.getPostData();this.http.proc(o).subscribe(r=>{console.log("ListComponent::initialize()/this.menuItems1:",JSON.stringify(r)),this.treeItems=this.svTreeAdapter.adaptToTree(r.data.consumers,ce),this.menuItems=this.treeItems,console.log("ListComponent::initialize()/this.menuItems2:",JSON.stringify(this.menuItems)),setTimeout(()=>{this.initializeMetisMenu()},0)})}initializeMetisMenu(){this.menu=new(A())(this.sideMenu.nativeElement),this._activateMenuDropdown()}getPostData(){return{ctx:"Sys",m:"Moduleman",c:"ConsumerResource",a:"GetMaped",dat:{f_vals:[{query:{select:["consumerName","consumerId","consumerGuid","consumerResourceGuid","consumerResourceName","cdObjName","consumerResourceIcon","consumerResourceLink"],where:{}}}],token:this.baseModel.jAppState.sess.cd_token},args:{}}}navToCreate(){this.svNav.sNavigate(this,this.baseModel.controllerRoutes.createRoute)}}U.\u0275fac=function(o){return new(o||U)(e.\u0275\u0275directiveInject(y.ActivatedRoute),e.\u0275\u0275directiveInject(y.Router),e.\u0275\u0275directiveInject(n.BaseService),e.\u0275\u0275directiveInject(n.NavService),e.\u0275\u0275directiveInject(u.NazTableService),e.\u0275\u0275directiveInject(n.AclService),e.\u0275\u0275directiveInject(u.PageService),e.\u0275\u0275directiveInject(n.SessService),e.\u0275\u0275directiveInject(ue.NGXLogger),e.\u0275\u0275directiveInject(h.UntypedFormBuilder),e.\u0275\u0275directiveInject(R),e.\u0275\u0275directiveInject(j),e.\u0275\u0275directiveInject(P))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-list"]],viewQuery:function(o,r){if(1&o&&(e.\u0275\u0275viewQuery(u.NazTableComponent,5),e.\u0275\u0275viewQuery(pe,5)),2&o){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.nazTable=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.sideMenu=i.first)}},decls:50,vars:2,consts:[[1,"container-fluid"],["title","Consumer Resources",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-4"],[1,"card"],[1,"card-body"],["ngbDropdown","",1,"dropdown","float-end"],["href","javascript: void(0);","data-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"dropdown-toggle","arrow-none","card-drop"],[1,"mdi","mdi-dots-vertical"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-title","mb-3"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["sideMenu",""],[4,"ngFor","ngForOf"],[1,"card-title","mb-4"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["href","javascript:void(0);","class","is-parent",3,"ngClass",4,"ngIf"],["class","side-nav-link-ref","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","sub-menu","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"is-parent",3,"ngClass"],[3,"class",4,"ngIf"],["routerLinkActive","active",1,"side-nav-link-ref",3,"routerLink"],["aria-expanded","false",1,"sub-menu"],["class","side-nav-link-a-ref has-arrow","href","javascript:void(0);",4,"ngIf"],["class","sub-menu mm-collapse","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"side-nav-link-a-ref","has-arrow"],["aria-expanded","false",1,"sub-menu","mm-collapse"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-pagetitle",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),e.\u0275\u0275element(8,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",9)(10,"a",10),e.\u0275\u0275listener("click",function(){return r.navToCreate()}),e.\u0275\u0275text(11,"Create"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"a",11),e.\u0275\u0275text(13,"Edit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"a",11),e.\u0275\u0275text(15,"Delete"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"h4",12),e.\u0275\u0275text(17,"Consumer Trees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div")(19,"perfect-scrollbar")(20,"div",13)(21,"ul",14,15),e.\u0275\u0275template(23,xe,3,2,"ng-container",16),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(24,"div",3)(25,"div",4)(26,"div",5)(27,"div",6)(28,"a",7),e.\u0275\u0275element(29,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",9)(31,"a",11),e.\u0275\u0275text(32,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"a",11),e.\u0275\u0275text(34,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"h4",17),e.\u0275\u0275text(36,"Selected Resource Details"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(37,"div",3)(38,"div",4)(39,"div",5)(40,"div",6)(41,"a",7),e.\u0275\u0275element(42,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",9)(44,"a",11),e.\u0275\u0275text(45,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"a",11),e.\u0275\u0275text(47,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"h4",17),e.\u0275\u0275text(49,"Statistics"),e.\u0275\u0275elementEnd()()()()()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngForOf",r.menuItems))},dependencies:[s.NgClass,s.NgForOf,s.NgIf,g.NgbDropdown,g.NgbDropdownToggle,g.NgbDropdownMenu,u.PagetitleComponent,y.RouterLink,y.RouterLinkActive]});class z{constructor(){}ngOnInit(){}}z.\u0275fac=function(o){return new(o||z)},z.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["app-edit"]],decls:2,vars:0,template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"edit works!"),e.\u0275\u0275elementEnd())}});class W{constructor(){}ngOnInit(){}}W.\u0275fac=function(o){return new(o||W)},W.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["app-delete"]],decls:2,vars:0,template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"delete works!"),e.\u0275\u0275elementEnd())}});const ee=new n.FormsService,H=[{title:"ID",name:"consumerResourceId",dbName:"consumer_resource_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerResourceGuid",dbName:"consumer_resource_guid",type:n.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerResourceName",dbName:"consumer_resource_name",type:n.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.createForm},{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[h.Validators.minLength(3),h.Validators.maxLength(20),h.Validators.required]]},{title:"Enabled",name:"consumerResourceEnabled",dbName:"consumer_resource_enabled",type:n.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:n.ControlType.status,fieldFor:n.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Consumer",name:"consumerId",dbName:"consumer_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.searchDropDown,fieldFor:n.FieldFor.createForm}],ddlInfo:{selData$:(0,G.of)([]),selValueField:"consumerName",selIndex:"consumerId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[h.Validators.minLength(3),h.Validators.maxLength(42),h.Validators.required]]},{title:"CdObjType",name:"cdObjTypeId",dbName:"cd_obj_type_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.searchDropDown,fieldFor:n.FieldFor.createForm}],ddlInfo:{selData$:(0,G.of)([]),selValueField:"cdObjTypeName",selIndex:"cdObjTypeId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[h.Validators.minLength(3),h.Validators.maxLength(42),h.Validators.required]]},{title:"CdObj",name:"cdObjId",dbName:"cd_obj_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.searchDropDown,fieldFor:n.FieldFor.createForm}],ddlInfo:{selData$:(0,G.of)([]),selValueField:"cdObjName",selIndex:"cdObjId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[h.Validators.minLength(3),h.Validators.maxLength(42),h.Validators.required]]},{title:"Action",name:"action",type:n.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:n.ControlType.action,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.action,fieldFor:n.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:n.FieldType.any,controls:[],formControlsConfig:["",[]]}],Se={data:{},valid:null,ctx:"Sys"},te=(ee.filterByFieldFor(H,n.FieldFor.createForm),{name:"ConsumerResource Wizard",steps:[{token:"",stepTitle:"Create ConsumerResource",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerResourceInfo",cardTitle:"ConsumerResource Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"ConsumerResource",formGroup:null,fields:ee.filterByFieldFor(H,n.FieldFor.createForm)}]});var Ne=l(6649),L=l(15461),C=l(98199),oe=l(51557);class V{constructor(o,r,i,p,c){this.svBase=o,this.svModman=r,this.svConsumer=i,this.svConsumerResource=p,this.svCdObj=c}loadDdls(o,r){var i=this;return(0,m.Z)(function*(){L.g6.token=o.token,L.g6.step=r,L.g6.controlName="consumerId",console.log("ConsumerResourceFrontService::loadDdls()/consumerGetQuery:",L.H0),L.g6.getFn$=i.svConsumer.getConsumer$(L.H0,o.token),yield i.svModman.setDdl$(yield L.g6).subscribe(p=>{r.fields.forEach(c=>{"consumerId"===c.name&&(c.ddlInfo.data=p)})}),C.lc.token=o.token,C.lc.step=r,C.lc.controlName="cdObjTypeId",C.lc.getFn$=i.svCdObj.getCdObjType$(C.mA,o.token),yield i.svModman.setDdl$(yield C.lc).subscribe(p=>{r.fields.forEach(c=>{"cdObjTypeId"===c.name&&(c.ddlInfo.data=p)})}),C.Lg.token=o.token,C.Lg.step=r,C.Lg.controlName="cdObjId",C.Lg.getFn$=i.svCdObj.getCdObjType$(C.s9,o.token),yield i.svModman.setDdl$(yield C.Lg).subscribe(p=>{r.fields.forEach(c=>{"cdObjTypeId"===c.name&&(c.ddlInfo.data=p)})})})()}refreshCdObjDdls(o,r,i){var p=this;return(0,m.Z)(function*(){C.Lg.token=o.token,C.Lg.step=r,C.Lg.controlName="cdObjId",C.Lg.getFn$=p.svCdObj.getCdObjType$(i,o.token),yield p.svModman.setDdl$(yield C.Lg).subscribe(c=>{r.fields.forEach(v=>{"cdObjTypeId"===v.name&&(v.ddlInfo.data=c)})})})()}}V.\u0275fac=function(o){return new(o||V)(e.\u0275\u0275inject(n.BaseService),e.\u0275\u0275inject(oe.o),e.\u0275\u0275inject(n.ConsumerService),e.\u0275\u0275inject(n.ConsumerResourceService),e.\u0275\u0275inject(n.CdObjService))},V.\u0275prov=e.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"});class K{constructor(o,r,i,p,c,v,T,N,x,S,E,$,X){this.aRoute=o,this.router=r,this.svConsumerResourceFront=i,this.svAcl=p,this.svForm=c,this.svNotif=v,this.fb=T,this.svForms=N,this.svCoops=x,this.svPage=S,this.svPush=E,this.svBase=$,this.svSess=X,this.newConsumerResource=Se,this.wizardModel=te,this.newModule=Ne.Rf,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(r=>{r&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svConsumerResourceFront.loadDdls(this.baseModel,this.baseModel.data.step).then(o=>{console.log("cdObj/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)}),this.svCoops.setIconsData$(this.baseModel.data.step,"icon")}init(){this.baseModel=new n.BaseModel("Moduleman","ConsumerResource"),this.baseModel.data.fields=this.svForms.filterByFieldFor(H,n.FieldFor.createForm),this.baseModel.data.wizardModel=te,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,"ConsumerResource")[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(H)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs("ConsumerResource","Create")}setSelectedIcon(o){this.svForm.setSelectedIcon(o,this.baseModel,this.baseModel.data.step)}refreshCdObjDdl(o){this.svConsumerResourceFront.refreshCdObjDdls(this.baseModel,this.baseModel.data.step,o).then(r=>{console.log("cdObj/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)}),this.svCoops.setIconsData$(this.baseModel.data.step,"icon")}save(o){let r;switch(o.controller){case"module":case"menu":break;case"cdObj":r=this.svBase.create$(this.newConsumerResource,this.baseModel.token),this.svForm.saveForm(o,this.newConsumerResource,r,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}}K.\u0275fac=function(o){return new(o||K)(e.\u0275\u0275directiveInject(y.ActivatedRoute),e.\u0275\u0275directiveInject(y.Router),e.\u0275\u0275directiveInject(V),e.\u0275\u0275directiveInject(n.AclService),e.\u0275\u0275directiveInject(n.FormsService),e.\u0275\u0275directiveInject(n.NotificationService),e.\u0275\u0275directiveInject(h.FormBuilder),e.\u0275\u0275directiveInject(n.FormsService),e.\u0275\u0275directiveInject(oe.o),e.\u0275\u0275directiveInject(u.PageService),e.\u0275\u0275directiveInject(n.CdPushService),e.\u0275\u0275directiveInject(n.BaseService),e.\u0275\u0275directiveInject(n.SessService))},K.\u0275cmp=e.\u0275\u0275defineComponent({type:K,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"baseModel","wizardModel","saveEmitter","relaySelIconEmitter"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"naz-table-create",0),e.\u0275\u0275listener("saveEmitter",function(p){return r.save(p)})("relaySelIconEmitter",function(p){return r.setSelectedIcon(p)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",r.baseModel)("wizardModel",r.wizardModel)},dependencies:[u.CreateComponent]});var Oe=l(47076);const Le=[{path:"list",component:U},{path:"edit",component:z},{path:"delete",component:W},{path:"create",component:K},{path:"dashboard",component:Oe.M}];class k{}k.\u0275fac=function(o){return new(o||k)},k.\u0275mod=e.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=e.\u0275\u0275defineInjector({imports:[y.RouterModule.forChild(Le),y.RouterModule]});class B{}B.\u0275fac=function(o){return new(o||B)},B.\u0275mod=e.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CommonModule,h.FormsModule,h.ReactiveFormsModule,g.NgbNavModule,g.NgbDropdownModule,g.NgbTooltipModule,g.NgbAccordionModule,u.NazUiModule,u.NazTableModule,u.NazCreateModule,u.NazEditModule,u.NazDeleteModule,b.LeafletModule,_.TranslateModule,f.Ng2SearchPipeModule,M.ArchwizardModule,F.NgToggleModule,k,t.NgSelectModule,n.BaseModule.forChild(d.N),n.CdPushModule.forChild(d.N)]})},15461:(O,I,l)=>{l.d(I,{AO:()=>A,H0:()=>u,HX:()=>_,YM:()=>n,aN:()=>b,g6:()=>y,hR:()=>d});var s=l(30533),t=l(47512),f=l(33635);const F=new t.FormsService,b=[{title:"ID",name:"consumerId",dbName:"consumer_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerGuid",dbName:"consumer_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerName",dbName:"consumer_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(60),s.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(42),s.Validators.required]]},{title:"Enabled",name:"consumerEnabled",dbName:"consumer_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createConsumer"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},valid:null,ctx:"Sys"},d={token:"",stepTitle:"Create Consumer",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerInfo",cardTitle:"Consumer Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Consumer",formGroup:null,fields:F.filterByFieldFor(b,t.FieldFor.createForm)},n={name:"Consumer Wizard",steps:[d]},u={select:["consumerId","consumerName","consumerGuid"],where:{}},y={getFn$:null,selIndex:u.select[0],selValueField:u.select[1],fetchFields:u.select,step:null,token:null,controlName:"consumerId"},A=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/consumer/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/consumer/dashboard",actionType:t.ActionType.navigate}]},51557:(O,I,l)=>{l.d(I,{o:()=>b});var s=l(33635),t=l(87675),f=l(47512);class b{constructor(d,n,u){this.svMenu=d,this.svNotif=n,this.svForm=u,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(d,n){d.fields.map((u,y)=>{u.name===n&&(d.fields[y].ddlInfo.selData$=(0,s.of)(this.ddlData),d.fields[y].ddlInfo.selIndex="iconId",d.fields[y].ddlInfo.selValueField="iconName",d.fields[y].ddlInfo.selPlaceholder="...Choose")})}setDdl$(d){if(d.token){const n=new s.Subject;let u=[];return d.getFn$.subscribe(y=>{const m=y;console.log("ModulemanService::setDdl$()/response:",m),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",d.step),m.app_state.success?(u=m.data.items,d.step.fields.map((D,A)=>{console.log("ModulemanService::setDdl$()/f.name1:",D.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",d.controlName),console.log("ModulemanService::setDdl$()/f:",D),D.name===d.controlName&&"ddlInfo"in D&&(console.log("ModulemanService::setDdl$()/f.name2:",D.name),d.step.fields[A].ddlInfo.selData$=(0,s.of)(m.data.items),d.step.fields[A].ddlInfo.selIndex=d.selIndex,d.step.fields[A].ddlInfo.selValueField=d.selValueField,d.step.fields[A].ddlInfo.selPlaceholder="...Choose")}),n.next(u)):(this.pushEnvelop.pushData=m,this.pushEnvelop.resp=m,this.svNotif.emitNotif(this.pushEnvelop),n.next(u))}),n.asObservable()}return(0,s.of)([])}}b.\u0275fac=function(d){return new(d||b)(t.\u0275\u0275inject(f.MenuService),t.\u0275\u0275inject(f.NotificationService),t.\u0275\u0275inject(f.FormsService))},b.\u0275prov=t.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"})},4368:(O,I,l)=>{l.d(I,{AO:()=>D,Cq:()=>u,NG:()=>_,hA:()=>b,i0:()=>y,kx:()=>d,ni:()=>m,pt:()=>n});var s=l(30533),t=l(47512),f=l(33635);const F=new t.FormsService,b=[{title:"ID",name:"menuId",dbName:"menu_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:t.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(25),s.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(0),s.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.ddlIcons,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(2),s.Validators.maxLength(50),s.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(100),s.Validators.required]]},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},cdObj:null,valid:null,ctx:"Sys"},d=[{toReplace:"menuLabel",replaceWith:"menuName"}],n={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:F.filterByFieldFor(b,t.FieldFor.createForm)},u={name:"Menu Wizard",steps:[n]},y={select:["menuId","menuName","menuGuid"],where:{}},m={getFn$:null,selIndex:y.select[0],selValueField:y.select[1],fetchFields:y.select,step:null,token:null,controlName:"menuParentId"},D=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:t.ActionType.navigate}]},6649:(O,I,l)=>{l.d(I,{AO:()=>y,GZ:()=>u,Qx:()=>F,Rf:()=>_,c_:()=>n,qh:()=>m,tL:()=>D,vk:()=>b});var s=l(30533),t=l(47512),f=l(4368);const M=new t.FormsService,F=[{title:"ID",name:"moduleId",dbName:"module_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(4),s.Validators.maxLength(20),s.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[s.Validators.minLength(0),s.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:t.ControlType.toggleSwitch,fieldFor:t.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:t.ControlType.toggleSwitch,fieldFor:t.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay}]}],b={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:t.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},_={valid:null,data:{},ctx:"Sys"},n={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:M.filterByFieldFor(F,t.FieldFor.createForm)},u={name:"Module Wizard",steps:[n,f.pt]},y=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:t.ActionType.navigate}],m={select:["moduleId","moduleName","moduleGuid"],where:{}},D={getFn$:null,selIndex:m.select[0],selValueField:m.select[1],fetchFields:m.select,step:null,token:null,controlName:"moduleId"}},7444:(O,I,l)=>{l.d(I,{N:()=>F});const s="https://cd-api.co.ke",F={appId:"",production:!1,apiEndpoint:`${s}:3001/api`,sioEndpoint:`${s}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"sio",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",initialPage:"dashboard",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},15861:(O,I,l)=>{function s(t,g,f,M,F,b,_){try{var d=t[b](_),n=d.value}catch(u){return void f(u)}d.done?g(n):Promise.resolve(n).then(M,F)}function h(t){return function(){var g=this,f=arguments;return new Promise(function(M,F){var b=t.apply(g,f);function _(n){s(b,M,F,_,d,"next",n)}function d(n){s(b,M,F,_,d,"throw",n)}_(void 0)})}}l.d(I,{Z:()=>h})}}]);