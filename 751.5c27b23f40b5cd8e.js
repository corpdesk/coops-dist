(self.webpackChunkcoops=self.webpackChunkcoops||[]).push([[751],{751:(D,_,t)=>{t.r(_),t.d(_,{LoginComponent:()=>T});var n=t(2952),p=t(2778),d=t(5360),e=t(2264),o=t(5662),c=t(5338),I=t(6031),r=t(9354),l=t(1475);const P=a=>({"is-invalid":a});function g(a,C){if(1&a&&(e.\u0275\u0275elementStart(0,"ngb-alert",39),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const s=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(s.error)}}function S(a,C){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email is required"),e.\u0275\u0275elementEnd())}function M(a,C){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email must be a valid email address"),e.\u0275\u0275elementEnd())}function b(a,C){if(1&a&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,S,2,0,"div",41)(2,M,2,0,"div",41),e.\u0275\u0275elementEnd()),2&a){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",s.f.email.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",s.f.email.errors.email)}}function A(a,C){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required"),e.\u0275\u0275elementEnd())}function L(a,C){if(1&a&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,A,2,0,"div",41),e.\u0275\u0275elementEnd()),2&a){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",s.f.password.errors.required)}}let T=(()=>{class a{formBuilder;route;router;authenticationService;authFackservice;loginForm;submitted=!1;error="";returnUrl;year=(new Date).getFullYear();constructor(s,O,m,U,R){this.formBuilder=s,this.route=O,this.router=m,this.authenticationService=U,this.authFackservice=R}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.loginForm=this.formBuilder.group({email:["admin@themesdesign.in",[n.Validators.required,n.Validators.email]],password:["123456",[n.Validators.required]]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&("firebase"===d.c.defaultauth?this.authenticationService.login(this.f.email.value,this.f.password.value).then(s=>{this.router.navigate(["/"])}).catch(s=>{this.error=s||""}):this.authFackservice.login(this.f.email.value,this.f.password.value).pipe((0,p.first)()).subscribe(s=>{this.router.navigate(["/"])},s=>{this.error=s||""}))}static \u0275fac=function(O){return new(O||a)(e.\u0275\u0275directiveInject(n.UntypedFormBuilder),e.\u0275\u0275directiveInject(o.ActivatedRoute),e.\u0275\u0275directiveInject(o.Router),e.\u0275\u0275directiveInject(c.k),e.\u0275\u0275directiveInject(I.N))};static \u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-login"]],decls:58,vars:10,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"ngSubmit","formGroup"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","email"],["type","email","formControlName","email","id","email","placeholder","Email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"form-check"],["type","checkbox","id","customControlInline",1,"form-check-input"],["for","customControlInline",1,"form-check-label"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],["routerLink","/account/reset-password",1,"text-muted"],[1,"mdi","mdi-lock","me-1"],[1,"mt-5","text-center"],["routerLink","/account/signup",1,"fw-medium","text-primary"],[1,"mdi","mdi-heart","text-danger"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(O,m){1&O&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Welcome Back !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Sign in to continue to Nazox."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return m.onSubmit()}),e.\u0275\u0275template(22,g,2,2,"ngb-alert",17),e.\u0275\u0275elementStart(23,"div",18),e.\u0275\u0275element(24,"i",19),e.\u0275\u0275elementStart(25,"label",20),e.\u0275\u0275text(26,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",21),e.\u0275\u0275template(28,b,3,2,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",18),e.\u0275\u0275element(30,"i",23),e.\u0275\u0275elementStart(31,"label",24),e.\u0275\u0275text(32,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",25),e.\u0275\u0275template(34,L,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",26),e.\u0275\u0275element(36,"input",27),e.\u0275\u0275elementStart(37,"label",28),e.\u0275\u0275text(38,"Remember me"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",29)(40,"button",30),e.\u0275\u0275text(41,"Log In"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",29)(43,"a",31),e.\u0275\u0275element(44,"i",32),e.\u0275\u0275text(45," Forgot your password?"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(46,"div",33)(47,"p"),e.\u0275\u0275text(48,"Don't have an account ? "),e.\u0275\u0275elementStart(49,"a",34),e.\u0275\u0275text(50," Register "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"p"),e.\u0275\u0275text(52,"\xa9 2024 Nazox. Crafted with "),e.\u0275\u0275element(53,"i",35),e.\u0275\u0275text(54," by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(55,"div",36)(56,"div",37),e.\u0275\u0275element(57,"div",38),e.\u0275\u0275elementEnd()()()()()),2&O&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",m.loginForm),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",m.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,P,m.submitted&&m.f.email.errors)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",m.submitted&&m.f.email.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,P,m.submitted&&m.f.password.errors)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",m.submitted&&m.f.password.errors))},dependencies:[r.NgClass,r.NgIf,n.\u0275NgNoValidate,n.DefaultValueAccessor,n.NgControlStatus,n.NgControlStatusGroup,n.FormGroupDirective,n.FormControlName,l.NgbAlert,o.RouterLink]})}return a})()},7273:(D,_,t)=>{t.d(_,{C:()=>c}),t(6614),t(8370),t(4738);const c=()=>null},5338:(D,_,t)=>{t.d(_,{k:()=>E});var n=t(7273),h=t(2264);let E=(()=>{class d{user;constructor(){}currentUser(){return(0,n.C)().getAuthenticatedUser()}login(u,o){return(0,n.C)().loginUser(u,o).then(f=>f)}register(u,o){return(0,n.C)().registerUser(u,o).then(f=>f)}resetPassword(u){return(0,n.C)().forgetPassword(u).then(o=>o.data)}logout(){(0,n.C)().logout()}static \u0275fac=function(o){return new(o||d)};static \u0275prov=h.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},6031:(D,_,t)=>{t.d(_,{N:()=>f});var n=t(4866),p=t(2778),d=t(2264),u=t(6380);let f=(()=>{class c{http;currentUserSubject;currentUser;constructor(r){this.http=r,this.currentUserSubject=new n.BehaviorSubject(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(r,i){return this.http.post("/users/authenticate",{email:r,password:i}).pipe((0,p.map)(l=>(l&&l.token&&(localStorage.setItem("currentUser",JSON.stringify(l)),this.currentUserSubject.next(l)),l)))}logout(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(null)}static \u0275fac=function(i){return new(i||c)(d.\u0275\u0275inject(u.HttpClient))};static \u0275prov=d.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},5360:(D,_,t)=>{t.d(_,{c:()=>u});const n="https://cd-api.co.ke",u={appId:"",production:!1,apiEndpoint:`${n}:3001/api`,sioEndpoint:`${n}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"sio",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",initialPage:"dashboard",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}}}]);