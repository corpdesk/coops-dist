(self.webpackChunkcoops=self.webpackChunkcoops||[]).push([[7355],{95517:(x,_,a)=>{a.d(_,{O:()=>u});var l=a(33635),t=a(7444),v=a(87675),c=a(38697);class u{constructor(d){this.http=d,this.debug=!1,this.module="",this.controller="",this.resp$=new l.Observable,this.params={ctx:"",m:"",c:"",a:"",dat:{token:""},args:{}}}proc(d){return console.log("",d),this.http.post(t.N.apiEndpoint,d,t.N.apiOptions)}}u.\u0275fac=function(d){return new(d||u)(v.\u0275\u0275inject(c.HttpClient))},u.\u0275prov=v.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},7645:(x,_,a)=>{a.d(_,{U:()=>v});var l=a(15861),b=a(87675);class t{constructor(){this.debugMode=!1}setDebugMode(c){this.debugMode=c}transformArray(c,i){return console.log("ArrayAdapterService::transformArray()/01"),console.log("ArrayAdapterService::transformArray()/inputArray:",c),console.log("ArrayAdapterService::transformArray()/mappingPlan:",i),Array.isArray(c)?(console.log("ArrayAdapterService::transformArray()/04"),c.map((u,h)=>{if(console.log("ArrayAdapterService::transformArray()/05"),console.log("ArrayAdapterService::transformArray()/item:",u),console.log("ArrayAdapterService::transformArray()/index:",h),console.log("ArrayAdapterService::transformArray()/typeof(item):",typeof u),console.log("ArrayAdapterService::transformArray()/typeof item:",typeof u),null===u||"object"!=typeof u)return console.log("ArrayAdapterService::transformArray()/06"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/07"),this.logger.error(`Validation Error: Item at index ${h} is null or not an object. Received:`,u)),console.log("ArrayAdapterService::transformArray()/08"),{};console.log("ArrayAdapterService::transformArray()/09");const d={};for(const[r,m]of Object.entries(i))console.log("ArrayAdapterService::transformArray()/10"),u.hasOwnProperty(r)&&(console.log("ArrayAdapterService::transformArray()/11"),console.log("ArrayAdapterService::transformArray()/newKey",m),console.log("ArrayAdapterService::transformArray()/key",r),d[m]=u[r]);return console.log("ArrayAdapterService::transformArray()/13"),d})):(console.log("ArrayAdapterService::transformArray()/02"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/03"),this.logger.error("Validation Error: Input is not an array. Received:",c)),[])}}t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=b.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"});class v{constructor(){this.childrenField="subItems",this.svArrayAdapter=new t,this.svArrayAdapter.setDebugMode(!0)}adaptToTree(c,i){return console.log("TreeAdapterService::adaptToTree()/01"),console.log("TreeAdapterService::adaptToTree()/data:",c),console.log("TreeAdapterService::adaptToTree()/config:",i),i.recursive?(console.log("TreeAdapterService::adaptToTree()/02"),this.buildRecursiveTree(c,i.maps[0])):(console.log("TreeAdapterService::adaptToTree()/03"),this.buildNonRecursiveTree(c,i.maps))}convertToTree(c,i){return c}convertArray(c,i){console.log("TreeAdapterService::convertArray()/01"),console.log("TreeAdapterService::convertArray()/data:",c),console.log("TreeAdapterService::convertArray()/mappingPlan:",i);const u=this.svArrayAdapter.transformArray(c,i);return console.log("TreeAdapterService::convertArray()/ret:",u),u}buildRecursiveTree(c,i){var u=this;return Array.isArray(c)&&null===c?c.map(function(){var h=(0,l.Z)(function*(d){return yield u.mapToTreeItem(d,i,!0)});return function(d){return h.apply(this,arguments)}}()):[]}buildNonRecursiveTree(c,i){var u=this;console.log("TreeAdapterService::buildNonRecursiveTree()/01"),console.log("TreeAdapterService::buildNonRecursiveTree()/data:",c),console.log("TreeAdapterService::buildNonRecursiveTree()/maps:",i);let d=[];if(!Array.isArray(i)||null==i)return console.log("TreeAdapterService::buildNonRecursiveTree()/02"),d;const m=this.convertArray(c,i[0]);return d=m,console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",m),m.forEach(function(){var g=(0,l.Z)(function*(y,C){console.log("TreeAdapterService::buildNonRegursiveTree()/item[this.childrenField]:",y[u.childrenField]),console.log("TreeAdapterService::buildNonRegursiveTree()/maps[depthLevel + 1]:",i[1]);const D=yield u.convertArray(y[u.childrenField],i[1]);console.log("TreeAdapterService::buildNonRegursiveTree()/transformedItemChildren:",D),y[u.childrenField]=D,d[C][u.childrenField]=D});return function(y,C){return g.apply(this,arguments)}}()),console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",m),console.log("TreeAdapterService::buildNonRegursiveTree()/result:",d),d}mapToTreeItem(c,i,u){var h=this;return(0,l.Z)(function*(){return{id:c[i.id],label:c[i.label],icon:i.icon?c[i.icon]:null,link:i.link?c[i.link]:null,subItems:u&&i.subItems?yield h.buildRecursiveTree(c[i.subItems],i):null,isTitle:!!i.isTitle&&c[i.isTitle],badge:i.badge?c[i.badge]:null,parentId:c[i.parentId],isLayout:!!i.isLayout&&c[i.isLayout],moduleIsPublic:!!i.moduleIsPublic&&c[i.moduleIsPublic]}})()}}v.\u0275fac=function(c){return new(c||v)},v.\u0275prov=b.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})},68856:(x,_,a)=>{a.d(_,{AO:()=>D,F5:()=>u,Lg:()=>g,NX:()=>r,ZR:()=>h,lc:()=>C,mA:()=>y,s9:()=>m,v$:()=>d});var l=a(30533),t=a(47512),f=a(33635);const i=new t.FormsService,u=[{title:"ID",name:"cdObjId",dbName:"cd_obj_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"cdObjGuid",dbName:"cd_obj_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"cdObjName",dbName:"cd_obj_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(20),l.Validators.required]]},{title:"CdObjType",name:"cdObjTypeGuid",dbName:"cd_obj_type_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"cdObjName",selIndex:"cdObjTypeGuid",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(42),l.Validators.required]]},{title:"ParentModule",name:"parentModuleGuid",dbName:"parent_module_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"menuName",selIndex:"menuGuid",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(42),l.Validators.required]]},{title:"AliasName",name:"cdObjDispName",dbName:"cd_obj_disp_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(14),l.Validators.required]]},{title:"Icon",name:"icon",dbName:"icon",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.ddlIcons,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",savable:!0,formControlsConfig:["",[l.Validators.minLength(2),l.Validators.maxLength(20),l.Validators.required]]},{title:"Show Icon",name:"showIcon",dbName:"show_icon",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Enabled",name:"cdObjEnabled",dbName:"cd_obj_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createCdObj"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],h={data:{},valid:null,ctx:"Sys"},d={token:"",stepTitle:"Create CdObj",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"cdObjInfo",cardTitle:"CdObj Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"CdObj",formGroup:null,fields:i.filterByFieldFor(u,t.FieldFor.createForm)},r={name:"CdObj Wizard",steps:[d]},m={select:["cdObjId","cdObjName","cdObjGuid"],where:{}},g={getFn$:null,selIndex:m.select[0],selValueField:m.select[1],fetchFields:m.select,step:null,token:null,controlName:"cdObjId"},y={select:["cdObjTypeId","cdObjTypeName","cdObjTypeGuid"],where:{}},C={getFn$:null,selIndex:y.select[2],selValueField:y.select[1],fetchFields:y.select,step:null,token:null,controlName:"cdObjTypeGuid"},D=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/cd-obj/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/cd-obj/dashboard",actionType:t.ActionType.navigate}]},67355:(x,_,a)=>{a.r(_),a.d(_,{ConsumerResourceModule:()=>R});var l=a(35228),b=a(30533),t=a(83781),v=a(76380),f=a(92618),c=a(59707),i=a(15006),u=a(5740),h=a(77207),d=a(7444),r=a(47512),m=a(61052),g=a(37011),y=a(15861),C=a(89521),D=a.n(C),Z=a(31815);const Y={series:[{name:"2020",type:"column",data:[23,42,35,27,43,22,17,31,22,22,12,16]},{name:"2019",type:"line",data:[23,32,27,38,27,32,27,38,22,31,21,16]}],chart:{height:280,type:"line",toolbar:{show:!1}},stroke:{width:[0,3],curve:"smooth"},plotOptions:{bar:{horizontal:!1,columnWidth:"20%"}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},q={series:[20,20,20,20,20],chart:{height:250,type:"donut"},labels:["Tanzania","Malawi","Eswatini","The Gambia","Ghana"],plotOptions:{pie:{donut:{size:"75%"}}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c","#eeb902","red","pink"]},ee={series:[72],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#5664d2"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},te={series:[65],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#1cbb8c"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},oe=[{id:1,name:"Frank Vickery",message:"Hey! I am available",image:"assets/images/users/avatar-2.jpg",time:"12:09"},{id:2,align:"right",name:"Ricky Clark",message:"Hi, How are you? What about our next meeting?",time:"10:02"},{text:"Today"},{id:3,name:"Frank Vickery",message:"Hello!",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:4,name:"Frank Vickery",message:"& Next meeting tomorrow 10.00AM",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:5,align:"right",name:"Ricky Clark",message:"Wow that's great",time:"10:07"}],re=[{orderid:"#NZ1563",date:"28 Mar, 2020",billingname:"Frank Dean",total:"$164",paymentstatus:"Unpaid"},{orderid:"#NZ1564",date:"28 Mar, 2020",billingname:"Eddy Torres",total:"$141",paymentstatus:"Paid"},{orderid:"#NZ1565",date:"29 Mar, 2020",billingname:"Jamison Clark",total:"$123",paymentstatus:"Paid"},{orderid:"#NZ1566",date:"30 Mar, 2020",billingname:"Jewel Buckley",total:"$112",paymentstatus:"Paid"},{orderid:"#NZ1567",date:"31 Mar, 2020",billingname:"Jeffrey Waltz",total:"$105",paymentstatus:"Unpaid"},{orderid:"#NZ1568",date:"01 Apr, 2020",billingname:"Jefferson Allen",total:"$160",paymentstatus:"Chargeback"}],ne=[{icon:"ri-stack-line",title:"Number of Sales",value:"1459"},{icon:"ri-store-2-line",title:"Sales Revenue",value:"$ 38453"},{icon:"ri-briefcase-4-line",title:"Average Price",value:"$ 15.4"}],ae={recursive:!1,maps:[{consumerId:"id",consumerName:"label",consumerResourceIcon:"icon",resources:"subItems",consumerResourceId:"parentId"},{consumerResourceGuid:"id",cdObjName:"label",consumerResourceLink:"link",consumerId:"parentId"}]};var e=a(87675),le=a(55250),se=a(13117),ie=a(95517),de=a(7645);const ce=["sideMenu"];function ue(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"li",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.label)}}function me(s,n){if(1&s&&e.\u0275\u0275element(0,"i"),2&s){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",o.icon,"")}}function pe(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",o.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.badge.text)}}const fe=function(s,n){return{"has-arrow":s,"has-dropdown":n}};function he(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"a",24),e.\u0275\u0275template(1,me,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,pe,2,4,"span",25),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,fe,!o.badge,o.badge)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.badge)}}function ye(s,n){if(1&s&&e.\u0275\u0275element(0,"i"),2&s){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",o.icon,"")}}function be(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",o.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.badge.text)}}function ve(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275template(1,ye,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,be,2,4,"span",25),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",o.link),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.badge)}}function ge(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("routerLink",o.link),e.\u0275\u0275attribute("data-parent",o.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.label," ")}}function Fe(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"a",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275attribute("data-parent",o.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.label," ")}}function Te(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"li")(1,"a",26),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&s){const o=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",o.link),e.\u0275\u0275attribute("data-parent",o.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.label," ")}}function _e(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"ul",31),e.\u0275\u0275template(1,Te,3,3,"li",16),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.subItems)}}function Ce(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,ge,2,3,"a",22),e.\u0275\u0275template(2,Fe,2,2,"a",28),e.\u0275\u0275template(3,_e,2,1,"ul",29),e.\u0275\u0275elementEnd()),2&s){const o=n.$implicit,p=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!p.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.hasItems(o))}}function Ie(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"ul",27),e.\u0275\u0275template(1,Ce,4,3,"li",16),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.subItems)}}function De(s,n){if(1&s&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,he,5,7,"a",21),e.\u0275\u0275template(2,ve,5,4,"a",22),e.\u0275\u0275template(3,Ie,2,1,"ul",23),e.\u0275\u0275elementEnd()),2&s){const o=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!p.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.hasItems(o))}}function Me(s,n){if(1&s&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ue,2,1,"li",18),e.\u0275\u0275template(2,De,4,3,"li",19),e.\u0275\u0275elementContainerEnd()),2&s){const o=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isTitle&&!o.isLayout)}}class B{constructor(n,o,p,T,F,M,E,j,P,N,A,w,Q){this.aRoute=n,this.router=o,this.svBase=p,this.svNav=T,this.svNazTable=F,this.svAcl=M,this.svPage=E,this.svSess=j,this.logger=P,this.formBuilder=N,this.eventService=A,this.http=w,this.svTreeAdapter=Q,this.baseModel=new r.BaseModel("moduleman","consumer-resource"),this.dSource={fields:[],data:[]},this.cardTitle="Modules",this.cardBodyId="cdModule",this.searchInputId="inputSearchModule",this.editRoute="/moduleman/consumer-rescource/edit",this.deleteRoute="/moduleman/consumer-rescource/delete",this.createRoute="/moduleman/consumer-rescource/create",this.filter={},this.tpData=r.DEFAULT_TPD,this.ddlData=r.DEFAULT_DDLD,this.menuItems=[],this.options={layers:[(0,Z.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:6,center:(0,Z.latLng)(46.879966,-121.726909)}}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{n&&this.svAcl.initComponent(n,this,this.svSess).then(o=>{console.log("ListComponent::ngOnInit()/svAcl/ret:",o)})}),this.breadCrumbItems=[{label:"ASDAP"},{label:"ConsumerResources",active:!0}],this.formData=this.formBuilder.group({message:["",[b.Validators.required]]}),this._fetchData()}ngAfterViewInit(){this.menu=new(D())(this.sideMenu.nativeElement),this._activateMenuDropdown(),this.initialize()}_fetchData(){this.revenueChart=Y,this.salesAnalytics=q,this.sparklineEarning=ee,this.sparklineMonthly=te,this.chatData=oe,this.transactions=re,this.statData=ne}get form(){return this.formData.controls}messageSave(){const n=this.formData.get("message").value,o=new Date;this.formData.valid&&n&&(this.chatData.push({align:"right",name:"Ricky Clark",message:n,time:o.getHours()+":"+o.getMinutes()}),this.formData=this.formBuilder.group({message:null})),this.chatSubmit=!0}_removeAllClass(n){const o=document.getElementsByClassName(n);for(;o[0];)o[0].classList.remove(n)}_activateMenuDropdown(){this._removeAllClass("mm-active"),this._removeAllClass("mm-show");const n=document.getElementsByClassName("side-nav-link-ref");let o=null;const p=[];for(let F=0;F<n.length;F++)p.push(n[F].pathname);const T=p.indexOf(window.location.pathname);if(-1===T){const F=window.location.pathname.lastIndexOf("/"),M=window.location.pathname.substr(0,F).toString();o=n[p.indexOf(M)]}else o=n[T];if(o){o.classList.add("active");const F=o.parentElement;if(F){F.classList.add("mm-active");const M=F.parentElement.closest("ul");if(M&&"side-menu"!==M.id){M.classList.add("mm-show");const E=M.parentElement;if(E&&"side-menu"!==E.id){E.classList.add("mm-active");const j=E.querySelector(".has-arrow"),P=E.querySelector(".has-dropdown");j&&j.classList.add("mm-active"),P&&P.classList.add("mm-active");const N=E.parentElement;if(N&&"side-menu"!==N.id){N.classList.add("mm-show");const A=N.parentElement;if(A&&"side-menu"!==A.id){A.classList.add("mm-active");const w=A.querySelector(".is-parent");w&&"side-menu"!==A.id&&w.classList.add("mm-active")}}}}}}}initialize(){var n=this;return(0,y.Z)(function*(){n.fetchData()})()}hasItems(n){return void 0!==n.subItems&&n.subItems.length>0}changeLayout(n){this.eventService.broadcast("changeLayout",n)}fetchData(){let n=this.getPostData();this.http.proc(n).subscribe(o=>{console.log("ListComponent::initialize()/this.menuItems1:",JSON.stringify(o)),this.treeItems=this.svTreeAdapter.adaptToTree(o.data.consumers,ae),this.menuItems=this.treeItems,console.log("ListComponent::initialize()/this.menuItems2:",JSON.stringify(this.menuItems)),setTimeout(()=>{this.initializeMetisMenu()},0)})}initializeMetisMenu(){this.menu=new(D())(this.sideMenu.nativeElement),this._activateMenuDropdown()}getPostData(){return{ctx:"Sys",m:"Moduleman",c:"ConsumerResource",a:"GetMaped",dat:{f_vals:[{query:{select:["consumerName","consumerId","consumerGuid","consumerResourceGuid","consumerResourceName","cdObjName","consumerResourceIcon","consumerResourceLink"],where:{}}}],token:this.baseModel.jAppState.sess.cd_token},args:{}}}navToCreate(){this.svNav.sNavigate(this,this.baseModel.controllerRoutes.createRoute)}}B.\u0275fac=function(n){return new(n||B)(e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(r.NavService),e.\u0275\u0275directiveInject(m.NazTableService),e.\u0275\u0275directiveInject(r.AclService),e.\u0275\u0275directiveInject(m.PageService),e.\u0275\u0275directiveInject(r.SessService),e.\u0275\u0275directiveInject(le.NGXLogger),e.\u0275\u0275directiveInject(b.UntypedFormBuilder),e.\u0275\u0275directiveInject(se.P),e.\u0275\u0275directiveInject(ie.O),e.\u0275\u0275directiveInject(de.U))},B.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["app-list"]],viewQuery:function(n,o){if(1&n&&(e.\u0275\u0275viewQuery(m.NazTableComponent,5),e.\u0275\u0275viewQuery(ce,5)),2&n){let p;e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(o.nazTable=p.first),e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(o.sideMenu=p.first)}},decls:50,vars:2,consts:[[1,"container-fluid"],["title","Consumer Resources",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-4"],[1,"card"],[1,"card-body"],["ngbDropdown","",1,"dropdown","float-end"],["href","javascript: void(0);","data-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"dropdown-toggle","arrow-none","card-drop"],[1,"mdi","mdi-dots-vertical"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-title","mb-3"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["sideMenu",""],[4,"ngFor","ngForOf"],[1,"card-title","mb-4"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["href","javascript:void(0);","class","is-parent",3,"ngClass",4,"ngIf"],["class","side-nav-link-ref","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","sub-menu","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"is-parent",3,"ngClass"],[3,"class",4,"ngIf"],["routerLinkActive","active",1,"side-nav-link-ref",3,"routerLink"],["aria-expanded","false",1,"sub-menu"],["class","side-nav-link-a-ref has-arrow","href","javascript:void(0);",4,"ngIf"],["class","sub-menu mm-collapse","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"side-nav-link-a-ref","has-arrow"],["aria-expanded","false",1,"sub-menu","mm-collapse"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-pagetitle",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),e.\u0275\u0275element(8,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",9)(10,"a",10),e.\u0275\u0275listener("click",function(){return o.navToCreate()}),e.\u0275\u0275text(11,"Create"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"a",11),e.\u0275\u0275text(13,"Edit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"a",11),e.\u0275\u0275text(15,"Delete"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"h4",12),e.\u0275\u0275text(17,"Consumer Trees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div")(19,"perfect-scrollbar")(20,"div",13)(21,"ul",14,15),e.\u0275\u0275template(23,Me,3,2,"ng-container",16),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(24,"div",3)(25,"div",4)(26,"div",5)(27,"div",6)(28,"a",7),e.\u0275\u0275element(29,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",9)(31,"a",11),e.\u0275\u0275text(32,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"a",11),e.\u0275\u0275text(34,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"h4",17),e.\u0275\u0275text(36,"Selected Resource Details"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(37,"div",3)(38,"div",4)(39,"div",5)(40,"div",6)(41,"a",7),e.\u0275\u0275element(42,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",9)(44,"a",11),e.\u0275\u0275text(45,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"a",11),e.\u0275\u0275text(47,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"h4",17),e.\u0275\u0275text(49,"Statistics"),e.\u0275\u0275elementEnd()()()()()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",o.breadCrumbItems),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngForOf",o.menuItems))},dependencies:[l.NgClass,l.NgForOf,l.NgIf,v.NgbDropdown,v.NgbDropdownToggle,v.NgbDropdownMenu,m.PagetitleComponent,g.RouterLink,g.RouterLinkActive]});class V{constructor(){}ngOnInit(){}}V.\u0275fac=function(n){return new(n||V)},V.\u0275cmp=e.\u0275\u0275defineComponent({type:V,selectors:[["app-edit"]],decls:2,vars:0,template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"edit works!"),e.\u0275\u0275elementEnd())}});class ${constructor(){}ngOnInit(){}}$.\u0275fac=function(n){return new(n||$)},$.\u0275cmp=e.\u0275\u0275defineComponent({type:$,selectors:[["app-delete"]],decls:2,vars:0,template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"delete works!"),e.\u0275\u0275elementEnd())}});var W=a(33635);const H=new r.FormsService,G=[{title:"ID",name:"consumerResourceId",dbName:"consumer_resource_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerResourceGuid",dbName:"consumer_resource_guid",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerResourceName",dbName:"consumer_resource_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[b.Validators.minLength(3),b.Validators.maxLength(20),b.Validators.required]]},{title:"Enabled",name:"consumerResourceEnabled",dbName:"consumer_resource_enabled",type:r.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.status,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Consumer",name:"consumerId",dbName:"consumer_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,W.of)([]),selValueField:"consumerName",selIndex:"consumerId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[b.Validators.minLength(3),b.Validators.maxLength(42),b.Validators.required]]},{title:"CdObjType",name:"cdObjTypeId",dbName:"cd_obj_type_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,W.of)([]),selValueField:"cdObjTypeName",selIndex:"cdObjTypeId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[b.Validators.minLength(3),b.Validators.maxLength(42),b.Validators.required]]},{title:"CdObj",name:"cdObjId",dbName:"cd_obj_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,W.of)([]),selValueField:"cdObjName",selIndex:"cdObjId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[b.Validators.minLength(3),b.Validators.maxLength(42),b.Validators.required]]},{title:"Action",name:"action",type:r.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:r.ControlType.action,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.action,fieldFor:r.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:r.FieldType.any,controls:[],formControlsConfig:["",[]]}],Ee={data:{},valid:null,ctx:"Sys"},J=(H.filterByFieldFor(G,r.FieldFor.createForm),{name:"ConsumerResource Wizard",steps:[{token:"",stepTitle:"Create ConsumerResource",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerResourceInfo",cardTitle:"ConsumerResource Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"ConsumerResource",formGroup:null,fields:H.filterByFieldFor(G,r.FieldFor.createForm)}]});var xe=a(39664),S=a(49730),I=a(68856),X=a(98812);class O{constructor(n,o,p,T,F){this.svBase=n,this.svModman=o,this.svConsumer=p,this.svConsumerResource=T,this.svCdObj=F}loadDdls(n,o){var p=this;return(0,y.Z)(function*(){S.g6.token=n.token,S.g6.step=o,S.g6.controlName="consumerId",console.log("ConsumerResourceFrontService::loadDdls()/consumerGetQuery:",S.H0),S.g6.getFn$=p.svConsumer.getConsumer$(S.H0,n.token),yield p.svModman.setDdl$(yield S.g6).subscribe(T=>{o.fields.forEach(F=>{"consumerId"===F.name&&(F.ddlInfo.data=T)})}),I.lc.token=n.token,I.lc.step=o,I.lc.controlName="cdObjTypeId",I.lc.getFn$=p.svCdObj.getCdObjType$(I.mA,n.token),yield p.svModman.setDdl$(yield I.lc).subscribe(T=>{o.fields.forEach(F=>{"cdObjTypeId"===F.name&&(F.ddlInfo.data=T)})}),I.Lg.token=n.token,I.Lg.step=o,I.Lg.controlName="cdObjId",I.Lg.getFn$=p.svCdObj.getCdObjType$(I.s9,n.token),yield p.svModman.setDdl$(yield I.Lg).subscribe(T=>{o.fields.forEach(F=>{"cdObjTypeId"===F.name&&(F.ddlInfo.data=T)})})})()}refreshCdObjDdls(n,o,p){var T=this;return(0,y.Z)(function*(){I.Lg.token=n.token,I.Lg.step=o,I.Lg.controlName="cdObjId",I.Lg.getFn$=T.svCdObj.getCdObjType$(p,n.token),yield T.svModman.setDdl$(yield I.Lg).subscribe(F=>{o.fields.forEach(M=>{"cdObjTypeId"===M.name&&(M.ddlInfo.data=F)})})})()}}O.\u0275fac=function(n){return new(n||O)(e.\u0275\u0275inject(r.BaseService),e.\u0275\u0275inject(X.v),e.\u0275\u0275inject(r.ConsumerService),e.\u0275\u0275inject(r.ConsumerResourceService),e.\u0275\u0275inject(r.CdObjService))},O.\u0275prov=e.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"});class U{constructor(n,o,p,T,F,M,E,j,P,N,A,w,Q){this.aRoute=n,this.router=o,this.svConsumerResourceFront=p,this.svAcl=T,this.svForm=F,this.svNotif=M,this.fb=E,this.svForms=j,this.svModman=P,this.svPage=N,this.svPush=A,this.svBase=w,this.svSess=Q,this.newConsumerResource=Ee,this.wizardModel=J,this.newModule=xe.Rf,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{this.svAcl.initComponent(n,this,this.svSess).then(o=>{o&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svConsumerResourceFront.loadDdls(this.baseModel,this.baseModel.data.step).then(n=>{console.log("cdObj/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)}),this.svModman.setIconsData$(this.baseModel.data.step,"icon")}init(){this.baseModel=new r.BaseModel("Moduleman","ConsumerResource"),this.baseModel.data.fields=this.svForms.filterByFieldFor(G,r.FieldFor.createForm),this.baseModel.data.wizardModel=J,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,"ConsumerResource")[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(G)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs("ConsumerResource","Create")}setSelectedIcon(n){this.svForm.setSelectedIcon(n,this.baseModel,this.baseModel.data.step)}refreshCdObjDdl(n){this.svConsumerResourceFront.refreshCdObjDdls(this.baseModel,this.baseModel.data.step,n).then(o=>{console.log("cdObj/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)}),this.svModman.setIconsData$(this.baseModel.data.step,"icon")}save(n){let o;switch(n.controller){case"module":case"menu":break;case"cdObj":o=this.svBase.create$(this.newConsumerResource,this.baseModel.token),this.svForm.saveForm(n,this.newConsumerResource,o,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}}U.\u0275fac=function(n){return new(n||U)(e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(O),e.\u0275\u0275directiveInject(r.AclService),e.\u0275\u0275directiveInject(r.FormsService),e.\u0275\u0275directiveInject(r.NotificationService),e.\u0275\u0275directiveInject(b.FormBuilder),e.\u0275\u0275directiveInject(r.FormsService),e.\u0275\u0275directiveInject(X.v),e.\u0275\u0275directiveInject(m.PageService),e.\u0275\u0275directiveInject(r.CdPushService),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(r.SessService))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"baseModel","wizardModel","saveEmitter","relaySelIconEmitter"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"naz-table-create",0),e.\u0275\u0275listener("saveEmitter",function(T){return o.save(T)})("relaySelIconEmitter",function(T){return o.setSelectedIcon(T)}),e.\u0275\u0275elementEnd()),2&n&&e.\u0275\u0275property("baseModel",o.baseModel)("wizardModel",o.wizardModel)},dependencies:[m.CreateComponent]});var Ae=a(34872);const Ne=[{path:"list",component:B},{path:"edit",component:V},{path:"delete",component:$},{path:"create",component:U},{path:"dashboard",component:Ae.M}];class L{}L.\u0275fac=function(n){return new(n||L)},L.\u0275mod=e.\u0275\u0275defineNgModule({type:L}),L.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.RouterModule.forChild(Ne),g.RouterModule]});class R{}R.\u0275fac=function(n){return new(n||R)},R.\u0275mod=e.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.CommonModule,b.FormsModule,b.ReactiveFormsModule,v.NgbNavModule,v.NgbDropdownModule,v.NgbTooltipModule,v.NgbAccordionModule,m.NazUiModule,m.NazTableModule,m.NazCreateModule,m.NazEditModule,m.NazDeleteModule,u.LeafletModule,h.TranslateModule,f.Ng2SearchPipeModule,c.ArchwizardModule,i.NgToggleModule,L,t.NgSelectModule,r.BaseModule.forChild(d.N),r.CdPushModule.forChild(d.N)]})},49730:(x,_,a)=>{a.d(_,{AO:()=>D,H0:()=>m,HX:()=>h,YM:()=>r,aN:()=>u,g6:()=>g,hR:()=>d});var l=a(30533),t=a(47512),f=a(33635);const i=new t.FormsService,u=[{title:"ID",name:"consumerId",dbName:"consumer_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerGuid",dbName:"consumer_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerName",dbName:"consumer_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(60),l.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(42),l.Validators.required]]},{title:"Enabled",name:"consumerEnabled",dbName:"consumer_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createConsumer"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],h={data:{},valid:null,ctx:"Sys"},d={token:"",stepTitle:"Create Consumer",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerInfo",cardTitle:"Consumer Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Consumer",formGroup:null,fields:i.filterByFieldFor(u,t.FieldFor.createForm)},r={name:"Consumer Wizard",steps:[d]},m={select:["consumerId","consumerName","consumerGuid"],where:{}},g={getFn$:null,selIndex:m.select[0],selValueField:m.select[1],fetchFields:m.select,step:null,token:null,controlName:"consumerId"},D=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/consumer/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/consumer/dashboard",actionType:t.ActionType.navigate}]},8465:(x,_,a)=>{a.d(_,{AO:()=>C,Cq:()=>m,NG:()=>h,hA:()=>u,i0:()=>g,kx:()=>d,ni:()=>y,pt:()=>r});var l=a(30533),t=a(47512),f=a(33635);const i=new t.FormsService,u=[{title:"ID",name:"menuId",dbName:"menu_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:t.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(25),l.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[l.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[l.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(0),l.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.ddlIcons,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(2),l.Validators.maxLength(50),l.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(100),l.Validators.required]]},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],h={data:{},cdObj:null,valid:null,ctx:"Sys"},d=[{toReplace:"menuLabel",replaceWith:"menuName"}],r={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:i.filterByFieldFor(u,t.FieldFor.createForm)},m={name:"Menu Wizard",steps:[r]},g={select:["menuId","menuName","menuGuid"],where:{}},y={getFn$:null,selIndex:g.select[0],selValueField:g.select[1],fetchFields:g.select,step:null,token:null,controlName:"menuParentId"},C=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:t.ActionType.navigate}]},39664:(x,_,a)=>{a.d(_,{AO:()=>g,GZ:()=>m,Qx:()=>i,Rf:()=>h,c_:()=>r,qh:()=>y,tL:()=>C,vk:()=>u});var l=a(30533),t=a(47512),f=a(8465);const c=new t.FormsService,i=[{title:"ID",name:"moduleId",dbName:"module_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(4),l.Validators.maxLength(20),l.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[l.Validators.minLength(0),l.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:t.ControlType.toggleSwitch,fieldFor:t.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:t.ControlType.toggleSwitch,fieldFor:t.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay}]}],u={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:t.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},h={valid:null,data:{},ctx:"Sys"},r={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:c.filterByFieldFor(i,t.FieldFor.createForm)},m={name:"Module Wizard",steps:[r,f.pt]},g=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:t.ActionType.navigate}],y={select:["moduleId","moduleName","moduleGuid"],where:{}},C={getFn$:null,selIndex:y.select[0],selValueField:y.select[1],fetchFields:y.select,step:null,token:null,controlName:"moduleId"}},98812:(x,_,a)=>{a.d(_,{v:()=>u});var l=a(33635),t=a(87675),f=a(47512);class u{constructor(d,r,m){this.svMenu=d,this.svNotif=r,this.svForm=m,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(d,r){d.fields.map((m,g)=>{m.name===r&&(d.fields[g].ddlInfo.selData$=(0,l.of)(this.ddlData),d.fields[g].ddlInfo.selIndex="iconId",d.fields[g].ddlInfo.selValueField="iconName",d.fields[g].ddlInfo.selPlaceholder="...Choose")})}setDdl$(d){if(d.token){const r=new l.Subject;let m=[];return d.getFn$.subscribe(g=>{const y=g;console.log("ModulemanService::setDdl$()/response:",y),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",d.step),y.app_state.success?(m=y.data.items,d.step.fields.map((C,D)=>{console.log("ModulemanService::setDdl$()/f.name1:",C.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",d.controlName),console.log("ModulemanService::setDdl$()/f:",C),C.name===d.controlName&&"ddlInfo"in C&&(console.log("ModulemanService::setDdl$()/f.name2:",C.name),d.step.fields[D].ddlInfo.selData$=(0,l.of)(y.data.items),d.step.fields[D].ddlInfo.selIndex=d.selIndex,d.step.fields[D].ddlInfo.selValueField=d.selValueField,d.step.fields[D].ddlInfo.selPlaceholder="...Choose")}),r.next(m)):(this.pushEnvelop.pushData=y,this.pushEnvelop.resp=y,this.svNotif.emitNotif(this.pushEnvelop),r.next(m))}),r.asObservable()}return(0,l.of)([])}}u.\u0275fac=function(d){return new(d||u)(t.\u0275\u0275inject(f.MenuService),t.\u0275\u0275inject(f.NotificationService),t.\u0275\u0275inject(f.FormsService))},u.\u0275prov=t.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},13117:(x,_,a)=>{a.d(_,{P:()=>i});var l=a(33635),t=a(65893),f=a(87675);class i{constructor(){this.handler=new l.Subject}broadcast(h,d={}){this.handler.next({type:h,payload:d})}subscribe(h,d){return this.handler.pipe((0,t.filter)(r=>r.type===h)).pipe((0,t.map)(r=>r.payload)).subscribe(d)}}i.\u0275fac=function(h){return new(h||i)},i.\u0275prov=f.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},15861:(x,_,a)=>{function l(t,v,f,c,i,u,h){try{var d=t[u](h),r=d.value}catch(m){return void f(m)}d.done?v(r):Promise.resolve(r).then(c,i)}function b(t){return function(){var v=this,f=arguments;return new Promise(function(c,i){var u=t.apply(v,f);function h(r){l(u,c,i,h,d,"next",r)}function d(r){l(u,c,i,h,d,"throw",r)}h(void 0)})}}a.d(_,{Z:()=>b})}}]);