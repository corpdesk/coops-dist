(self.webpackChunkcoops=self.webpackChunkcoops||[]).push([[5471,7852],{7852:(O,w,d)=>{d.r(w),d.d(w,{CKEditorComponent:()=>u,CKEditorModule:()=>D});var g=d(467),o=d(2264),E=d(2778),f=d(2952),v=d(9354);function m(e,a){}const n=new Array(256).fill(0).map((e,a)=>("0"+a.toString(16)).slice(-2)),c="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let u=(()=>{class e{constructor(t,i){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new o.EventEmitter,this.change=new o.EventEmitter,this.blur=new o.EventEmitter,this.focus=new o.EventEmitter,this.error=new o.EventEmitter,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function _(){const e=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+n[255&e]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255]+n[255&a]+n[a>>8&255]+n[a>>16&255]+n[a>>24&255]+n[255&t]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+n[255&i]+n[i>>8&255]+n[i>>16&255]+n[i>>24&255]}(),this.ngZone=i,this.elementRef=t,this.checkVersion()}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}getId(){return this.id}checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[i]=t.split(".").map(Number);i>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}ngOnChanges(t){Object.prototype.hasOwnProperty.call(t,"data")&&t.data&&!t.data.isFirstChange()&&this.writeValue(t.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var t=this;return(0,g.A)(function*(){t.watchdog?yield t.watchdog.remove(t.id):t.editorWatchdog&&t.editorWatchdog.editor&&(yield t.editorWatchdog.destroy(),t.editorWatchdog=void 0)})()}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe((0,E.first)()).subscribe(i=>{i.data.set(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(t?this.editorInstance.enableReadOnlyMode(c):this.editorInstance.disableReadOnlyMode(c)),this.initiallyDisabled=t}attachToWatchdog(){var t=this;const i=(r,l)=>this.ngZone.runOutsideAngular((0,g.A)(function*(){t.elementRef.nativeElement.appendChild(r);const y=yield t.editor.create(r,l);return t.initiallyDisabled&&y.enableReadOnlyMode(c),t.ngZone.run(()=>{t.ready.emit(y)}),t.setUpEditorEvents(y),y})),p=function(){var r=(0,g.A)(function*(l){yield l.destroy(),t.elementRef.nativeElement.removeChild(t.editorElement)});return function(y){return r.apply(this,arguments)}}(),s=r=>{(function h(e){return e.observed||e.observers.length>0})(this.error)&&this.ngZone.run(()=>this.error.emit(r))},C=document.createElement(this.tagName),F=this.getConfig();if(this.editorElement=C,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:i,destructor:p,sourceElementOrData:C,config:F}).catch(r=>{s(r)}),this.watchdog.on("itemError",(r,{itemId:l})=>{l===this.id&&s()});else{const r=new this.editor.EditorWatchdog(this.editor,this.editorWatchdogConfig);r.setCreator(i),r.setDestructor(p),r.on("error",s),this.editorWatchdog=r,this.ngZone.runOutsideAngular(()=>{r.create(C,F).catch(l=>{s(l)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t={...this.config},i=this.config.initialData||this.data;return i&&(t.initialData=i),t}setUpEditorEvents(t){const p=t.editing.view.document;t.model.document.on("change:data",s=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const C=t.data.get();this.cvaOnChange(C)}this.change.emit({event:s,editor:t})}})}),p.on("focus",s=>{this.ngZone.run(()=>{this.focus.emit({event:s,editor:t})})}),p.on("blur",s=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:s,editor:t})})})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.NgZone))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[o.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,o.forwardRef)(()=>e),multi:!0}]),o.\u0275\u0275NgOnChangesFeature],decls:1,vars:0,template:function(t,i){1&t&&o.\u0275\u0275template(0,m,0,0,"ng-template")},encapsulation:2}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[[f.FormsModule,v.CommonModule]]}),e})()},467:(O,w,d)=>{function g(E,f,v,m,n,_,c){try{var u=E[_](c),h=u.value}catch(D){return void v(D)}u.done?f(h):Promise.resolve(h).then(m,n)}function o(E){return function(){var f=this,v=arguments;return new Promise(function(m,n){var _=E.apply(f,v);function c(h){g(_,m,n,c,u,"next",h)}function u(h){g(_,m,n,c,u,"throw",h)}c(void 0)})}}d.d(w,{A:()=>o})}}]);