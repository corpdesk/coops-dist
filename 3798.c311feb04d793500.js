(self.webpackChunkcoops=self.webpackChunkcoops||[]).push([[3798],{79028:(S,_,n)=>{n.d(_,{k:()=>s});var d=n(15861),b=n(39664),e=n(8465),v=n(87675),F=n(47512),p=n(98812);class s{constructor(r,a,t){this.svMenu=r,this.svModule=a,this.svModman=t}loadDdls(r,a){var t=this;return(0,d.Z)(function*(){b.tL.token=r.token,b.tL.step=a,b.tL.controlName="moduleId",b.tL.getFn$=t.svModule.getModule$(b.qh,r.token),yield t.svModman.setDdl$(yield b.tL).subscribe(c=>{console.log("menu/MenuModService::loadDdls()/ret(modules):",c),a.fields.forEach(h=>{"moduleId"===h.name&&(h.ddlInfo.data=c)})}),e.ni.token=r.token,e.ni.step=a,e.ni.controlName="menuParentId",e.ni.getFn$=t.svMenu.getMenuList$(e.i0,r.token),yield t.svModman.setDdl$(yield e.ni).subscribe(c=>{console.log("menu/MenuModService::loadDdls()/ret(menus):",c),a.fields.forEach(h=>{"menuParentId"===h.name&&(h.ddlInfo.data=c)})})})()}setCdObj(r,a,t){console.log("MenuModService::setCdObj()/fg:",r);const c=r.controls.moduleId.value;console.log("MenuModService::setCdObj()/moduleId:",c);const h=a.getDdlData("moduleId",e.hA);console.log("MenuModService::setCdObj()/modules:",h);const y=h.filter((N,R)=>N.moduleId===c?N:null);console.log("MenuModService::setCdObj()/selectedModule:",y);let I=null;y.length>0&&(I=y[0].moduleGuid),console.log("MenuModService::setCdObj()/moduleGuid:",I),I&&(t.cdObj={cdObjName:r.controls.menuName.value,cdObjTypeGuid:"f5df4494-5cc9-4463-8e8e-c5861703280e",parentModuleGuid:I,cdObjDispName:null,icon:null,showIcon:null,cdObjEnabled:null})}}s.\u0275fac=function(r){return new(r||s)(v.\u0275\u0275inject(F.MenuService),v.\u0275\u0275inject(F.ModuleService),v.\u0275\u0275inject(p.v))},s.\u0275prov=v.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},8465:(S,_,n)=>{n.d(_,{AO:()=>h,Cq:()=>a,NG:()=>s,hA:()=>p,i0:()=>t,kx:()=>i,ni:()=>c,pt:()=>r});var d=n(30533),e=n(47512),f=n(33635);const g=new e.FormsService,p=[{title:"ID",name:"menuId",dbName:"menu_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:e.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[d.Validators.minLength(3),d.Validators.maxLength(25),d.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[d.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[d.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[d.Validators.minLength(0),d.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.ddlIcons,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[d.Validators.minLength(2),d.Validators.maxLength(50),d.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[d.Validators.minLength(3),d.Validators.maxLength(100),d.Validators.required]]},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:e.FieldType.any,controls:[],formControlsConfig:["",[]]}],s={data:{},cdObj:null,valid:null,ctx:"Sys"},i=[{toReplace:"menuLabel",replaceWith:"menuName"}],r={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:g.filterByFieldFor(p,e.FieldFor.createForm)},a={name:"Menu Wizard",steps:[r]},t={select:["menuId","menuName","menuGuid"],where:{}},c={getFn$:null,selIndex:t.select[0],selValueField:t.select[1],fetchFields:t.select,step:null,token:null,controlName:"menuParentId"},h=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:e.ActionType.navigate}]},39664:(S,_,n)=>{n.d(_,{AO:()=>t,GZ:()=>a,Qx:()=>g,Rf:()=>s,c_:()=>r,qh:()=>c,tL:()=>h,vk:()=>p});var d=n(30533),e=n(47512),f=n(8465);const F=new e.FormsService,g=[{title:"ID",name:"moduleId",dbName:"module_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[d.Validators.minLength(4),d.Validators.maxLength(20),d.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[d.Validators.minLength(0),d.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[d.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:e.ControlType.toggleSwitch,fieldFor:e.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:e.ControlType.toggleSwitch,fieldFor:e.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay}]}],p={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:e.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},s={valid:null,data:{},ctx:"Sys"},r={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:F.filterByFieldFor(g,e.FieldFor.createForm)},a={name:"Module Wizard",steps:[r,f.pt]},t=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:e.ActionType.navigate}],c={select:["moduleId","moduleName","moduleGuid"],where:{}},h={getFn$:null,selIndex:c.select[0],selValueField:c.select[1],fetchFields:c.select,step:null,token:null,controlName:"moduleId"}},53798:(S,_,n)=>{n.r(_),n.d(_,{ModuleModule:()=>E});var d=n(35228),b=n(30533),e=n(83781),v=n(76380),f=n(92618),F=n(59707),g=n(15006),p=n(7444),s=n(47512),i=n(61052),r=n(37011),a=n(39664),t=n(87675);class c{constructor(o,l,u,m,C,T,O,A,L,j){this.aRoute=o,this.route=l,this.router=u,this.svModule=m,this.svNazTable=C,this.svAcl=T,this.svForms=O,this.svPage=A,this.svNav=L,this.svSess=j,this.baseModel=new s.BaseModel("",""),this.dSource={fields:[],data:[]},this.cardTitle="Modules",this.cardBodyId="cdModules",this.searchInputId="inputSearchModule",this.editRoute="/moduleman/module/edit",this.deleteRoute="/moduleman/module/delete",this.createRoute="/moduleman/module/create",this.filter={},this.tpData=s.DEFAULT_TPD,this.ddlData=a.AO,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{if(o){console.log("coopsV2::Module/ListComponent::params:",o),o.token&&o.token.length>0&&(this.baseModel.token=o.token),console.log("coopsV2::Module/ListComponent::ngOnInit()/this.baseModel.token:",this.baseModel.token);const l=localStorage.getItem(o.token);if(l){const u=JSON.parse(l);this.baseModel.sess=u,console.log("coopsV2::Module/ListComponent::ngOnInit()/this.baseModel.sess:",this.baseModel.sess)}this.svAcl.initComponent(o,this,this.svSess).then(u=>{console.log("coopsV2::Module/ListComponent::ngOnInit()/this.svAcl.initComponent/ret:",u),u?(this.sQuery=this.svNazTable.initSQuery(this),console.log("coopsV2::Module/ListComponent::ngOnInit()/this.sQuery:",this.sQuery),this.dsEmittData=this.svNazTable.initEmittData(this),console.log("coopsV2::Module/ListComponent::ngOnInit()/this.dsEmittData:",this.dsEmittData)):this.svNav.nsNavigate(this,"/","Error loading ModuleList page")})}})}ngAfterViewInit(){}init(){this.baseModel=new s.BaseModel(a.c_.module,a.c_.controller),this.baseModel.data.fields=a.Qx.filter(o=>o.fetchable||o.type===s.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(a.c_.controller,"List")}execQuery(o){this.svNazTable.execQuery(o,this.svModule.getModule$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(o){this.sQuery=o.sQuery,this.execQuery(o)}getSelect(){console.log("coopsV2::Module/ListComponent::getSelect()/this.baseModel.data.fields:",this.baseModel.data.fields);const o=this.baseModel.data.fields.filter(u=>u.fetchable).map(u=>u.name);console.log("coopsV2::Module/ListComponent::getSelect()/fields:",o);let l=[];return o.forEach((u,m)=>{l.push(l.push(o[m]))}),l}}c.\u0275fac=function(o){return new(o||c)(t.\u0275\u0275directiveInject(r.ActivatedRoute),t.\u0275\u0275directiveInject(r.ActivatedRoute),t.\u0275\u0275directiveInject(r.Router),t.\u0275\u0275directiveInject(s.ModuleService),t.\u0275\u0275directiveInject(i.NazTableService),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.FormsService),t.\u0275\u0275directiveInject(i.PageService),t.\u0275\u0275directiveInject(s.NavService),t.\u0275\u0275directiveInject(s.SessService))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["app-list"]],viewQuery:function(o,l){if(1&o&&t.\u0275\u0275viewQuery(i.NazTableComponent,5),2&o){let u;t.\u0275\u0275queryRefresh(u=t.\u0275\u0275loadQuery())&&(l.nazTable=u.first)}},decls:1,vars:9,consts:[[3,"baseModel","cardTitle","cardBodyId","searchInputId","tpData","filter","ddlData","editRoute","deleteRoute","searchQuery"]],template:function(o,l){1&o&&(t.\u0275\u0275elementStart(0,"naz-table",0),t.\u0275\u0275listener("searchQuery",function(m){return l.setSearchQuery(m)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",l.baseModel)("cardTitle",l.cardTitle)("cardBodyId",l.cardBodyId)("searchInputId",l.searchInputId)("tpData",l.tpData)("filter",l.filter)("ddlData",l.ddlData)("editRoute",l.editRoute)("deleteRoute",l.deleteRoute)},dependencies:[i.NazTableComponent]});var h=n(15861);class y{constructor(o,l,u,m,C,T){this.aRoute=o,this.svModule=l,this.svSess=u,this.svAcl=m,this.svNotif=C,this.svPage=T,this.formConfig={},this.backRoute="/moduleman/module/list",this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(l=>{console.log("module/EditComponent::ngOnInit()/ret:",l)})})}init(){this.baseModel=new s.BaseModel(a.c_.module,a.c_.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(a.c_.controller,"Edit"),this.baseModel.data.subTitle="only allowed fields are editable"}update(o){var l=this;return(0,h.Z)(function*(){l.svModule.updateModule$(o,l.baseModel.token).subscribe(u=>{l.svNotif.emitNotif({pushRecepients:s.DEFAULT_PUSH_RECEPIENTS,pushData:u,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:u})})})()}}y.\u0275fac=function(o){return new(o||y)(t.\u0275\u0275directiveInject(r.ActivatedRoute),t.\u0275\u0275directiveInject(s.ModuleService),t.\u0275\u0275directiveInject(s.SessService),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.NotificationService),t.\u0275\u0275directiveInject(i.PageService))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["app-edit"]],decls:1,vars:3,consts:[[3,"baseModel","pageDescription","formConfig","backRoute","updateQuery"]],template:function(o,l){1&o&&(t.\u0275\u0275elementStart(0,"naz-table-edit",0),t.\u0275\u0275listener("updateQuery",function(m){return l.update(m)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",l.baseModel)("formConfig",l.formConfig)("backRoute",l.backRoute)},dependencies:[i.EditComponent]});class I{constructor(o,l,u,m,C,T){this.aRoute=o,this.svModule=l,this.svAcl=u,this.svNotif=m,this.svPage=C,this.svSess=T,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(l=>{})})}init(){this.baseModel=new s.BaseModel(a.c_.module,a.c_.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(a.c_.controller,"Delete"),this.baseModel.data.subTitle="Confirm before delete"}deleteItem(o){var l=this;return(0,h.Z)(function*(){l.svModule.deleteModules$(o,l.baseModel.token).subscribe(u=>{l.svNotif.emitNotif({pushRecepients:s.DEFAULT_PUSH_RECEPIENTS,pushData:u,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:u})})})()}}I.\u0275fac=function(o){return new(o||I)(t.\u0275\u0275directiveInject(r.ActivatedRoute),t.\u0275\u0275directiveInject(s.ModuleService),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.NotificationService),t.\u0275\u0275directiveInject(i.PageService),t.\u0275\u0275directiveInject(s.SessService))},I.\u0275cmp=t.\u0275\u0275defineComponent({type:I,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","deleteQuery"]],template:function(o,l){1&o&&(t.\u0275\u0275elementStart(0,"naz-table-delete",0),t.\u0275\u0275listener("deleteQuery",function(m){return l.deleteItem(m)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",l.baseModel)("formConfig",l.formConfig)},dependencies:[i.DeleteComponent]});var N=n(8465),R=n(79028),B=n(98812);class P{constructor(o,l,u,m,C,T,O,A,L,j,U,w){this.aRoute=o,this.svModule=l,this.svMenu=u,this.svMenuFront=m,this.svAcl=C,this.svForm=T,this.svNotif=O,this.fb=A,this.svModman=L,this.svPage=j,this.svPush=U,this.svSess=w,this.newModule=a.Rf,this.newMenu=N.NG,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(l=>{l&&(this.svPush.init(this),this.menuStep.token=this.baseModel.token,this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svMenuFront.loadDdls(this.baseModel,this.menuStep).then(o=>{}),this.svModman.setIconsData$(this.menuStep,"icon"),this.enableStepToMenu()}init(){this.baseModel=new s.BaseModel(a.c_.module,a.c_.controller),this.baseModel.data.fields=this.svForm.filterByFieldFor(a.Qx,s.FieldFor.createForm),this.baseModel.data.wizardModel=a.GZ,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,"module")[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(a.Qx)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.menuStep=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,"menu")[0],this.menuStep.formGroup=this.fb.group(this.svForm.getFormControlConfig(N.hA)),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(a.c_.controller,"Create")}setSelectedIcon(o){this.svForm.setSelectedIcon(o,this.baseModel,this.menuStep)}toggleScope(o){a.vk.selectedItem=a.vk.options.find(l=>l.optControlId===o.id),a.vk.selectedItem.selected=o.checked,this.baseModel.data.form.controls[a.vk.controllerName].setValue(o.checked),this.baseModel.data.form.controls[a.vk.controllerName].setValue("isSys"===a.vk.selectedItem.value),this.svForm.deselectGroupControls(o,a.vk,this.baseModel)}save(o){let l;switch(o.controller){case"module":l=this.svModule.createModule$(this.newModule,this.baseModel.token),this.svForm.saveForm(o,this.newModule,l,this.svPush.pushEnvelop,this.svNotif);break;case"menu":this.svMenuFront.setCdObj(o.formGroup,this.svForm,this.newMenu),l=this.svMenu.createMenu$(this.newMenu,this.baseModel.token),this.svForm.saveForm(o,this.newMenu,l,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}enableStepToMenu(){const o=document.getElementById("stepToMenu");o&&(o.disabled=!1)}}P.\u0275fac=function(o){return new(o||P)(t.\u0275\u0275directiveInject(r.ActivatedRoute),t.\u0275\u0275directiveInject(s.ModuleService),t.\u0275\u0275directiveInject(s.MenuService),t.\u0275\u0275directiveInject(R.k),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.FormsService),t.\u0275\u0275directiveInject(s.NotificationService),t.\u0275\u0275directiveInject(b.FormBuilder),t.\u0275\u0275directiveInject(B.v),t.\u0275\u0275directiveInject(i.PageService),t.\u0275\u0275directiveInject(s.CdPushService),t.\u0275\u0275directiveInject(s.SessService))},P.\u0275cmp=t.\u0275\u0275defineComponent({type:P,selectors:[["app-create"]],decls:1,vars:3,consts:[[3,"baseModel","jAppState","wizardModel","toggleEmitter","saveEmitter","relaySelIconEmitter"]],template:function(o,l){1&o&&(t.\u0275\u0275elementStart(0,"naz-table-create",0),t.\u0275\u0275listener("toggleEmitter",function(m){return l.toggleScope(m)})("saveEmitter",function(m){return l.save(m)})("relaySelIconEmitter",function(m){return l.setSelectedIcon(m)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",l.baseModel)("jAppState",l.baseModel.jAppState)("wizardModel",l.baseModel.data.wizardModel)},dependencies:[i.CreateComponent]});var x=n(34872);const V=[{path:"list",component:c},{path:"edit",component:y},{path:"delete",component:I},{path:"create",component:P},{path:"dashboard",component:x.M}];class D{}D.\u0275fac=function(o){return new(o||D)},D.\u0275mod=t.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=t.\u0275\u0275defineInjector({imports:[r.RouterModule.forChild(V),r.RouterModule]});class E{}E.\u0275fac=function(o){return new(o||E)},E.\u0275mod=t.\u0275\u0275defineNgModule({type:E}),E.\u0275inj=t.\u0275\u0275defineInjector({imports:[d.CommonModule,b.FormsModule,b.ReactiveFormsModule,v.NgbNavModule,v.NgbDropdownModule,v.NgbTooltipModule,v.NgbAccordionModule,i.NazUiModule,i.NazTableModule,i.NazCreateModule,i.NazEditModule,i.NazDeleteModule,f.Ng2SearchPipeModule,F.ArchwizardModule,g.NgToggleModule,D,e.NgSelectModule,s.BaseModule.forChild(p.N),s.CdPushModule.forChild(p.N)]})},98812:(S,_,n)=>{n.d(_,{v:()=>p});var d=n(33635),e=n(87675),f=n(47512);class p{constructor(i,r,a){this.svMenu=i,this.svNotif=r,this.svForm=a,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(i,r){i.fields.map((a,t)=>{a.name===r&&(i.fields[t].ddlInfo.selData$=(0,d.of)(this.ddlData),i.fields[t].ddlInfo.selIndex="iconId",i.fields[t].ddlInfo.selValueField="iconName",i.fields[t].ddlInfo.selPlaceholder="...Choose")})}setDdl$(i){if(i.token){const r=new d.Subject;let a=[];return i.getFn$.subscribe(t=>{const c=t;console.log("ModulemanService::setDdl$()/response:",c),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",i.step),c.app_state.success?(a=c.data.items,i.step.fields.map((h,y)=>{console.log("ModulemanService::setDdl$()/f.name1:",h.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",i.controlName),console.log("ModulemanService::setDdl$()/f:",h),h.name===i.controlName&&"ddlInfo"in h&&(console.log("ModulemanService::setDdl$()/f.name2:",h.name),i.step.fields[y].ddlInfo.selData$=(0,d.of)(c.data.items),i.step.fields[y].ddlInfo.selIndex=i.selIndex,i.step.fields[y].ddlInfo.selValueField=i.selValueField,i.step.fields[y].ddlInfo.selPlaceholder="...Choose")}),r.next(a)):(this.pushEnvelop.pushData=c,this.pushEnvelop.resp=c,this.svNotif.emitNotif(this.pushEnvelop),r.next(a))}),r.asObservable()}return(0,d.of)([])}}p.\u0275fac=function(i){return new(i||p)(e.\u0275\u0275inject(f.MenuService),e.\u0275\u0275inject(f.NotificationService),e.\u0275\u0275inject(f.FormsService))},p.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})},15861:(S,_,n)=>{function d(e,v,f,F,g,p,s){try{var i=e[p](s),r=i.value}catch(a){return void f(a)}i.done?v(r):Promise.resolve(r).then(F,g)}function b(e){return function(){var v=this,f=arguments;return new Promise(function(F,g){var p=e.apply(v,f);function s(r){d(p,F,g,s,i,"next",r)}function i(r){d(p,F,g,s,i,"throw",r)}s(void 0)})}}n.d(_,{Z:()=>b})}}]);